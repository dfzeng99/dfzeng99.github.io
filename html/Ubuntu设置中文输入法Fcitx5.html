<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
        <meta content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui" name="viewport"/>
        <meta content="webkit" name="renderer"/>
        <meta content="no-transform" http-equiv="Cache-Control"/>
        <meta content="no-siteapp" http-equiv="Cache-Control"/>
        <meta content="yes" name="apple-mobile-web-app-capable"/>
        <meta content="black" name="apple-mobile-web-app-status-bar-style"/>
        <meta content="telephone=no,email=no,adress=no" name="format-detection"/>
        <meta content="#000000" name="theme-color"/>
        <meta content="_top" http-equiv="window-target"/>
        <title>
            Zdenfo的小破站
        </title>
        <meta content="Zdenfo 的个人博客" name="description"/>
        <meta content="计算数学; 科学计算; 机器学习; 计算机知识" name="keywords"/>
        <link href="../resources/image/x-icon/logo.png" rel="icon" type="image/x-icon"/>
        <link href="../css/style.css" rel="stylesheet"/>
        <link href="../css/gitalk.min.css" rel="stylesheet"/>
        <link href="../css/default.min.css" rel="stylesheet"/>
        <link href="../css/article.css" rel="stylesheet"/>
        <script src="../js/highlight.min.js">
        </script>
        <script>
            hljs.highlightAll();
        </script>
    </head>
    <body class="main-center" itemscope="" itemtype="http://schema.org/WebPage">
        <header class="header" itemscope="" itemtype="http://schema.org/WPHeader">
            <div class="slimContent">
                <div class="navbar-header">
                    <div class="profile-block text-center">
                        <a href="https://gitee.com/zdenfo" id="avatar" target="_blank">
                            <img class="img-circle img-rotate" height="200" src="../resources/image/x-icon/logo.png" width="200"/>
                        </a>
                        <h2 class="hidden-xs hidden-sm" id="name">
                            Zdenfo
                        </h2>
                        <h3 class="hidden-xs hidden-sm hidden-md" id="title">
                            Student & Worker
                        </h3>
                        <small class="text-muted hidden-xs hidden-sm" id="location">
                            <i class="icon icon-map-marker">
                            </i>
                            Shanghai, China
                        </small>
                    </div>
                    <button aria-controls="main-navbar" aria-expanded="false" class="navbar-toggle collapsed" data-target="#main-navbar" data-toggle="collapse" type="button">
                        <span class="sr-only">
                            Toggle navigation
                        </span>
                        <span class="icon-bar">
                        </span>
                        <span class="icon-bar">
                        </span>
                        <span class="icon-bar">
                        </span>
                    </button>
                </div>
                <nav class="collapse navbar-collapse" id="main-navbar" itemscope="" itemtype="http://schema.org/SiteNavigationElement" role="navigation">
                    <ul class="nav navbar-nav main-nav">
                        <li class="menu-item menu-item-home">
                            <a href="../index.html">
                                <i class="icon icon-home-fill">
                                </i>
                                <span class="menu-title">
                                    首页
                                </span>
                            </a>
                        </li>
                        <li class="menu-item menu-item-repository">
                            <a href="../projects.html">
                                <i class="icon icon-project">
                                </i>
                                <span class="menu-title">
                                    项目
                                </span>
                            </a>
                        </li>
                        <li class="menu-item menu-item-books">
                            <a href="../readlist.html">
                                <i class="icon icon-book-fill">
                                </i>
                                <span class="menu-title">
                                    书单
                                </span>
                            </a>
                        </li>
                        <li class="menu-item menu-item-links">
                            <a href="../talk.html">
                                <i class="icon icon-friendship">
                                </i>
                                <span class="menu-title">
                                    闲言碎语
                                </span>
                            </a>
                        </li>
                        <li class="menu-item menu-item-about">
                            <a href="../about.html">
                                <i class="icon icon-cup-fill">
                                </i>
                                <span class="menu-title">
                                    关于
                                </span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>
        <aside class="sidebar" itemscope="" itemtype="http://schema.org/WPSideBar">
            <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 815px;">
                <div class="slimContent" style="overflow: hidden; width: auto; height: 815px;">
                    <div class="widget">
                        <h3 class="widget-title">
                            相关链接
                        </h3>
                        <div class="widget-body">
                            <div id="board">
                                <div class="content">
                                    <ol type="1">
                                        <li>
                                            muzing.
                                            <a href="https://zhuanlan.zhihu.com/p/508797663">
                                                Ubuntu22.04安装Fcitx5中文输入法（详细）
                                            </a>
                                            .2023.
                                        </li>
                                        <li>
                                            四叶草的梦想.
                                            <a href="https://zhuanlan.zhihu.com/p/157941126">
                                                fcitx5使用搜狗皮肤，再也用不完的主题
                                            </a>
                                            .2020.
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slimScrollBar" style="background: rgba(0, 0, 0, 0.15); width: 5px; position: absolute; top: 0px; opacity: 0.4; display: none; border-radius: 7px; z-index: 99; right: 1px; height: 436.99px;">
                </div>
                <div class="slimScrollRail" style="width: 5px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51); opacity: 0.2; z-index: 90; right: 1px;">
                </div>
            </div>
        </aside>
        <main class="main" role="main">
            <div class="content article-list">
                <article class="article article-type-post" id="post-Ubuntu设置中文输入法Fcitx5" itemscope="" itemtype="http://schema.org/BlogPosting">
                    <div class="article-header">
                        <h1 class="article-title" itemprop="name">
                            Ubuntu设置中文输入法Fcitx5
                        </h1>
                        <!--标题-->
                        <div class="article-meta">
                            <span class="article-date">
                                <i class="icon icon-calendar-check">
                                </i>
                                <a class="article-date" href="#">
                                    <time datetime="0000-00-00" itemprop="datePublished">
                                        2024年01月20日
                                    </time>
                                </a>
                                <!--发布日期-->
                            </span>
                            <span class="article-category">
                                <i class="icon icon-folder">
                                </i>
                                <a class="article-category-link" href="">
                                    计算机
                                </a>
                                <!--大标签-->
                            </span>
                            <span class="article-tag">
                                <i class="icon icon-tags">
                                </i>
                                <a class="article-tag-link" href="">
                                    操作指南
                                </a>
                                <!--小标签-->
                            </span>
                            <span class="post-wordcount hidden-xs" itemprop="wordCount">
                                <!--字数统计-->
                                字数统计: 582(字)
                            </span>
                        </div>
                    </div>
                    <div class="article-entry marked-body" itemprop="articleBody">
                        <h3 id="基本安装">
                            1. 基本安装
                        </h3>
                        <p>
                            安装Fcitx5需要系统版本在22.04以上，直接使用
                            <code>
                                apt
                            </code>
                            工具进行安装即可
                        </p>
                        <div class="sourceCode" id="cb1">
                            <pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1"></a><span class="fu">sudo</span> apt install fcitx5</span></code></pre>
                        </div>
                        <p>
                            按照要求它会帮你安装好需要的fcitx5的组件。为了使输入法的使用变得更加顺手，我们还需要安装一个词库zhwiki
                        </p>
                        <div class="sourceCode" id="cb2">
                            <pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a aria-hidden="true" href="#cb2-1"></a><span class="co"># 下载词库文件</span></span>
<span id="cb2-2"><a aria-hidden="true" href="#cb2-2"></a><span class="fu">wget</span> https://github.com/felixonmars/fcitx5-pinyin-zhwiki/releases/download/0.2.4/zhwiki-20220416.dict</span>
<span id="cb2-3"><a aria-hidden="true" href="#cb2-3"></a><span class="co"># 创建存储目录</span></span>
<span id="cb2-4"><a aria-hidden="true" href="#cb2-4"></a><span class="fu">mkdir</span> -p ~/.local/share/fcitx5/pinyin/dictionaries/</span>
<span id="cb2-5"><a aria-hidden="true" href="#cb2-5"></a><span class="co"># 移动词库文件至该目录</span></span>
<span id="cb2-6"><a aria-hidden="true" href="#cb2-6"></a><span class="fu">mv</span> zhwiki-20220416.dict ~/.local/share/fcitx5/pinyin/dictionaries/</span></code></pre>
                        </div>
                        <p>
                            然后将fcitx设置为系统输入法，命令行输入
                            <code>
                                im-config
                            </code>
                            ，选取fcitx为输入法，接着设置环境变量，这需要将以下代码写进系统配置文件
                            <code>
                                ~/.bashrc
                            </code>
                            中去
                        </p>
                        <div class="sourceCode" id="cb3">
                            <pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a aria-hidden="true" href="#cb3-1"></a><span class="bu">export</span> <span class="va">XMODIFIERS=</span>@<span class="va">im=</span>fcitx</span>
<span id="cb3-2"><a aria-hidden="true" href="#cb3-2"></a><span class="bu">export</span> <span class="va">GTK_IM_MODULE=</span>fcitx</span>
<span id="cb3-3"><a aria-hidden="true" href="#cb3-3"></a><span class="bu">export</span> <span class="va">QT_IM_MODULE=</span>fcitx</span></code></pre>
                        </div>
                        <p>
                            最后，将fcitx5设置为开机自启动，安装好
                            <code>
                                gnome-tweaks
                            </code>
                            后，直接在开启自启动应用中将其添加进去即可。
                        </p>
                        <h3 id="输入法设置及美化">
                            2. 输入法设置及美化
                        </h3>
                        <p>
                            点开新安装的小企鹅图标的fcitx配置程序，选中当前输入法-拼音，点击中间的小齿轮，设置“启用云拼音”，在全局选项中去除勾选“在程序中显示预编辑文本”，在附加组件的云拼音中的后端改为Baidu。
                        </p>
                        <p>
                            接下来是设置输入法皮肤和美化，我们借用别人的工具可以在fcitx5上使用搜狗输入法的皮肤。首先，下载转换工具
                        </p>
                        <div class="sourceCode" id="cb4">
                            <pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a aria-hidden="true" href="#cb4-1"></a><span class="fu">git</span> clone https://github.com/fkxxyz/ssfconv.git</span>
<span id="cb4-2"><a aria-hidden="true" href="#cb4-2"></a><span class="bu">cd</span> ssfconv</span></code></pre>
                        </div>
                        <p>
                            在搜狗的官网下载ssf样式文件，调用工具将其转化为格式文件夹
                        </p>
                        <div class="sourceCode" id="cb5">
                            <pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a aria-hidden="true" href="#cb5-1"></a><span class="ex">./ssfconv</span>  -t fcitx5 example.ssf  example</span></code></pre>
                        </div>
                        <p>
                            该工具需要依赖于几个第三方库需要事先在python中安装好
                            <code>
                                Crypto
                            </code>
                            、
                            <code>
                                pillow
                            </code>
                            、
                            <code>
                                numpy
                            </code>
                            ，最后将其复制到用户皮肤目录
                        </p>
                        <div class="sourceCode" id="cb6">
                            <pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a aria-hidden="true" href="#cb6-1"></a><span class="fu">mkdir</span> -p ~/.local/share/fcitx5/themes/</span>
<span id="cb6-2"><a aria-hidden="true" href="#cb6-2"></a><span class="fu">cp</span> -r example  ~/.local/share/fcitx5/themes/</span></code></pre>
                        </div>
                        <p>
                            然后在输入法中设置主题就可以了，当然转换可能存在一点点问题，在输入法设置中微调一下即可了。
                        </p>
                    </div>
                    <div class="article-footer">
                        <blockquote class="mt-2x">
                            <ul class="post-copyright list-unstyled">
                                <li class="post-copyright-link hidden-xs">
                                    <strong>
                                        本文链接：
                                    </strong>
                                    <a href="https://zdenfo.gitee.io/html/Ubuntu设置中文输入法Fcitx5.html" rel="external" target="_blank" title="Ubuntu设置中文输入法Fcitx5">
                                        https://zdenfo.gitee.io/html/Ubuntu设置中文输入法Fcitx5.html
                                    </a>
                                </li>
                                <li class="post-copyright-license">
                                    <strong>
                                        版权声明：
                                    </strong>
                                    本博客所有文章除特别声明外，均采用
                                    <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" rel="external" target="_blank">
                                        CC BY 4.0 CN协议
                                    </a>
                                    许可协议。转载请注明出处！
                                </li>
                            </ul>
                        </blockquote>
                    </div>
                </article>
            </div>
        </main>
        <footer class="footer" itemscope="" itemtype="http://schema.org/WPFooter">
            <ul class="social-links">
                <li>
                    <a data-original-title="Github" data-placement="top" data-toggle="tooltip" href="https://github.com/detsfin" target="_blank" title="">
                        <i class="icon icon-github">
                        </i>
                    </a>
                </li>
                <li>
                    <a data-original-title="Weibo" data-placement="top" data-toggle="tooltip" href="https://space.bilibili.com/141594781" target="_blank" title="">
                        <i class="icon icon-weibo">
                        </i>
                    </a>
                </li>
                <li>
                    <a data-original-title="Twitter" data-placement="top" data-toggle="tooltip" href="#" target="_blank" title="">
                        <i class="icon icon-qq">
                        </i>
                    </a>
                </li>
                <li>
                    <a data-original-title="Gitee" data-placement="top" data-toggle="tooltip" href="https://www.gitee.com/zdenfo" target="_blank" title="">
                        <i class="icon icon-gitee">
                        </i>
                    </a>
                </li>
            </ul>
            <div class="copyright">
                <div class="publishby">
                    Theme by
                    <a href="https://github.com/cofess" target="_blank">
                        cofess
                    </a>
                    base on
                    <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">
                        pure
                    </a>
                    .
                </div>
            </div>
        </footer>
        <script src="../js/jquery.min.js">
        </script>
        <script src="../js/plugin.min.js">
        </script>
    </body>
</html>
